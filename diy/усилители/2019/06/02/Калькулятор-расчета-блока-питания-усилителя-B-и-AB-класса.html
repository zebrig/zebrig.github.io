<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Калькулятор расчета блока питания усилителя B и AB класса | Блог Егора Залесского</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Калькулятор расчета блока питания усилителя B и AB класса" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Блог о музыке и не только" />
<meta property="og:description" content="Блог о музыке и не только" />
<link rel="canonical" href="/diy/%D1%83%D1%81%D0%B8%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D0%B8/2019/06/02/%D0%9A%D0%B0%D0%BB%D1%8C%D0%BA%D1%83%D0%BB%D1%8F%D1%82%D0%BE%D1%80-%D1%80%D0%B0%D1%81%D1%87%D0%B5%D1%82%D0%B0-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B0-%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D1%8F-%D1%83%D1%81%D0%B8%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8F-B-%D0%B8-AB-%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B0.html" />
<meta property="og:url" content="/diy/%D1%83%D1%81%D0%B8%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D0%B8/2019/06/02/%D0%9A%D0%B0%D0%BB%D1%8C%D0%BA%D1%83%D0%BB%D1%8F%D1%82%D0%BE%D1%80-%D1%80%D0%B0%D1%81%D1%87%D0%B5%D1%82%D0%B0-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B0-%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D1%8F-%D1%83%D1%81%D0%B8%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8F-B-%D0%B8-AB-%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B0.html" />
<meta property="og:site_name" content="Блог Егора Залесского" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-06-02T13:25:57+03:00" />
<script type="application/ld+json">
{"description":"Блог о музыке и не только","@type":"BlogPosting","url":"/diy/%D1%83%D1%81%D0%B8%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D0%B8/2019/06/02/%D0%9A%D0%B0%D0%BB%D1%8C%D0%BA%D1%83%D0%BB%D1%8F%D1%82%D0%BE%D1%80-%D1%80%D0%B0%D1%81%D1%87%D0%B5%D1%82%D0%B0-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B0-%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D1%8F-%D1%83%D1%81%D0%B8%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8F-B-%D0%B8-AB-%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B0.html","headline":"Калькулятор расчета блока питания усилителя B и AB класса","dateModified":"2019-06-02T13:25:57+03:00","datePublished":"2019-06-02T13:25:57+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"/diy/%D1%83%D1%81%D0%B8%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D0%B8/2019/06/02/%D0%9A%D0%B0%D0%BB%D1%8C%D0%BA%D1%83%D0%BB%D1%8F%D1%82%D0%BE%D1%80-%D1%80%D0%B0%D1%81%D1%87%D0%B5%D1%82%D0%B0-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B0-%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D1%8F-%D1%83%D1%81%D0%B8%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8F-B-%D0%B8-AB-%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B0.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Блог Егора Залесского" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Блог Егора Залесского</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">Об авторе</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <header class="post-header">
        
        <img src="/assets/posts/2019-06-02-Калькулятор-расчета-блока-питания-усилителя-b-и-ab-класса/29eb8ea4.png" /><br>
        
        <h1 style="text-align: center" class="post-title p-name" itemprop="name headline">Калькулятор расчета блока питания усилителя B и AB класса</h1>
        <p class="post-meta" style="text-align: center">
            <time class="dt-published" datetime="2019-06-02T13:25:57+03:00" itemprop="datePublished">2019-06-02
            </time>• DIY, усилители</p>
    </header>

    <div class="post-content e-content" itemprop="articleBody">
        
<style>
    input[type="text"] {
        width: 4em 
    }

    .gray {
        background-color: #ddd !important
    }

    tr {
        background-color: white !important
    }

    td {
        padding: 5px !important;
    }
</style>
<script type="text/x-mathjax-config">MathJax.Hub.Config({
        menuSettings: { zoom: "Hover" },
          CommonHTML: { linebreaks: { automatic: true } },
          "HTML-CSS": { linebreaks: { automatic: true } },
                 SVG: { linebreaks: { automatic: true } }
      });
      </script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>

<p>
    Формулы взяты из статьи про TDA2050 и прошли мою проверку иными источниками. Формулы расчета подсказывают самые максимальные значения, которые только можно получить теоретически. Эти данные важны для понимания "потолков" мощностей. Взять блок питания послабее всегда можно, учитывая пик-фактор музыки, наличие мощных конденсаторов и то, что люди редко слушают музыку на пределе громкости.
</p>

<div class="container" id="app">
    Данные для:
    <input type="submit" value="TDA2050" @click="Qdc=90; vLossAmpVod = 4; ampname='TDA2050'">,
    <input type="submit" value="LM3886" @click="Qdc=85; vLossAmpVod = 3; ampname='LM3886'">,
    <input type="submit" value="TDA7294" @click="Qdc=65; vLossAmpVod = 3; ampname='TDA7294'">,
    <input type="submit" value="TDA7293" @click="Qdc=100; vLossAmpVod = 3; ampname='TDA7293'">
    <input type="submit" value="Hybrid rev.2.0" @click="Qdc=230; vLossAmpVod = 10; ampname='Hybrid rev.2.0'">
    <input type="submit" value="умолчания" @click="Qdc=90; vLossAmpVod = 4; ampname='чипе усиления'">
    <table>
        <tr>
            <td>
                <input type="text" v-model="powerOutputPo" @keydown.up="powerOutputPo = Number(powerOutputPo)+1" @keydown.down="powerOutputPo = Number(powerOutputPo)-1"> </td>
            <td> Общая выходная мощность усилителя, Вт (P<sub>o</sub>) (кнопки вверх-вниз меняют значение на 1)</td>
        </tr>
        <tr>
            <td>
                <input type="text" v-model="coilresistanceRl"> </td>
            <td> Импеданс динамика, Ом (R<sub>L</sub>) </td>
        </tr>
        <tr class="gray">
            <td>
                <input type="text" v-model="Vopeak" disabled> </td>
            <td> Пиковое (амплитудное) выходное напряжение, (V<sub>opeak</sub>) </td>
        </tr>
        <tr class="gray">
            <td>
                <input type="text" :value="Math.round(Vopeak*0.707*100)/100" disabled> </td>
            <td> Среднеквадратичное (RMS) выходное напряжение, (V<sub>orms</sub>) </td>
        </tr>
        <tr>
            <td>
                <input type="text" v-model="vLossAmpVod"> </td>
            <td> Падение напряжения на {{ ampname }}, (V<sub>od</sub>) </td>
        </tr>
        <tr>
            <td>
                <input type="text" v-model="Qdc"> </td>
            <td> Ток покоя на {{ ampname }}, мА (Q<sub>dc</sub>) </td>
        </tr>
        <tr>
            <td>
                <input type="text" v-model="regulation"> </td>
            <td> Величина повышения напряжения при простое трансформатора, % (Regulation) </td>
        </tr>
        <tr>
            <td>
                <input type="text" v-model="skachki"> </td>
            <td> Коэффициент нестабильности напряжения питающей сети 220в, % </td>
        </tr>
        <tr class="gray">
            <td>
                <input type="text" v-model="Vmaxsupply" disabled> </td>
            <td> Максимальное постоянное напряжение блока питания, &plusmn;В, (V<sub>max supply</sub>) </td>
        </tr>
        <tr class="gray">
            <td>
                <input type="text" v-model="VmaxsupplyAc" disabled> </td>
            <td> Максимальное номинальное переменное напряжение одного плеча трансформатора (под нагрузкой) АС, В, (V<sub>max supply AC</sub>) </td>
        </tr>
        <tr class="gray">
            <td>
                <input type="text" v-model="Imaxsupplyac" disabled> </td>
            <td> Максимальная сила тока переменного напряжения одного плеча трансформатора (под нагрузкой) АС, А (I<sub>max supply AC</sub>) </td>
        </tr>
        <tr class="gray">
            <td>
                <input type="text" :value="Psupply/2" disabled> </td>
            <td> Активная мощность трансформатора на один канал усилителя (на одно плечо питания), Вт (P<sub>supply</sub>) </td>
        </tr>
        <tr class="gray">
            <td>
                <input type="text" v-model="Psupply" disabled> </td>
            <td> Активная мощность трансформатора на один канал усилителя (суммарно на оба плеча), Вт (P<sub>supply</sub>) </td>
        </tr>
        <tr class="gray">
            <td>
                <input type="text" :value="Ssupply/2" disabled> </td>
            <td> Полная мощность трансформатора на один канал усилителя (на одно плечо питания), ВA (S<sub>supply</sub>) </td>
        </tr>
        <tr class="gray">
            <td>
                <input type="text" v-model="Ssupply" disabled> </td>
            <td> Полная мощность трансформатора на один канал усилителя (суммарно на оба плеча), ВA (S<sub>supply</sub>) </td>
        </tr>
    </table>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.js" integrity="sha256-ufGElb3TnOtzl5E4c/qQnZFGP+FYEZj5kbSEdJNrw0A=" crossorigin="anonymous"></script>
<script>
    new Vue({
        el: '#app'
        , data: {
            coilresistanceRl: 4
            , powerOutputPo: 25
            , vLossAmpVod: 4
            , regulation: 10
            , skachki: 10
            , Qdc: 90
            , ampname: "чипе усиления"
        }
        , computed: {
            Vopeak: function() {
                return Math.round(Math.sqrt(2 * this.coilresistanceRl * this.powerOutputPo) * 100) / 100
            }
            , Vmaxsupply: function() {
                return Math.round((this.Vopeak + Number(this.vLossAmpVod)) * (1 + this.regulation / 100) * (1 + this.skachki / 100) * 100) / 100
            }
            , VmaxsupplyAc: function() {
                return Math.round((this.Vopeak + Number(this.vLossAmpVod)) / 1.41 * 100) / 100
            }
            , Psupply: function() {
                return Math.round(2 * this.Vmaxsupply * (this.Vopeak / (Math.PI * this.coilresistanceRl) + this.Qdc/1000) * 100) / 100
            }
            , Ssupply: function() {
                return Math.round(this.Psupply * 1.5 * 100) / 100
            }
            , Imaxsupplyac: function() {
                return Math.round(this.Ssupply / 2 / this.VmaxsupplyAc * 100) / 100
            }
        }
    })
</script>


<h2>Откуда эти цифры</h2>
<h3>1. Расчет мощности амплитудного напряжения для синусоиды.</h3>
<p>
    Вот цитата с <a href="https://ru.wikipedia.org/wiki/Переменный_ток" target="_blank">https://ru.wikipedia.org/wiki/Переменный_ток</a> (на всякий случай – <a href="https://blog.ez.by/wp-content/uploads/2019/02/Википедия-переменный-ток.pdf" target="_blank">вот копия в pdf формате</a>), если там пропадет):

    <blockquote>Действующее значение напряжения в \(\sqrt{2}\) меньше его амплитуды: \(U = \frac{U_m}{\sqrt{2}}\) или \({U_m} = U \times \sqrt{2}\).
        <br>Um = Vopeak – амплитудное напряжение
        <br>U – действующее (среднеквадратичное значение) напряжения
    </blockquote>

    Таким образом, формула мощности

    \( {Po} = {U} * {I}
    \\= \frac{ U * U }{R}
    \\= \frac{\frac{Um}{\sqrt{2}} * \frac{Um}{\sqrt{2}}}{R}
    \\= \frac{Um^{2}}{2 * R}
    \)

    Откуда

    \(
    {Um} = \sqrt{ 2 * {Po} * {R}}
    \).

</p>

<h3>2. Пиковое выходное напряжение</h3>
<p>
    \( V_{max \ supply} = \pm( V_{opeak}+ V_{od})(1+Regulation)(1.1)
    \\V_{opeak}= пиковое\ выходное\ напряжение
    \\V_{od}= Падение\ напряжения\ на\ усилителе
    \\Regulation= Величина\ повышения\ напряжения\ при\ простое\ трансформатора,\ \%
    \\1.1= коэффициент\ нестабильности\ напряжения\ питающей\ сети\ 220в\ (10\%)
    \)
    <br>
    Тут мы тупо рассчитываем максимальное напряжение питания, чтобы при скачке напряжения или повышении напряжения трансформатора на холостом ходу, не спалить нашу микруху.
    <br>Преобразование переменки в постоянку - по идеальному коэффициенту 1.41, без учета падения напряжения на диодах.
</p>

<h3>3. Расчет мощности трансформатора от мощности усилителя</h3>
<p>
    Любой B и AB класс имеет потолок производительности, определенный принципами. Есть формула, которую приводят создатели LM3886 в даташите:
    \(P_{supply} = 2 \times V_{cc}(\frac{V_{opeak}}{\pi\times R_{L}}+QDC)
    \\V_{cc}=Напряжение\ одного\ плеча\ питания\ без\ нагрузки (на\ холостом\ ходу\ трансформатора)
    \\V_{opeak}= пиковое\ выходное\ напряжение
    \\QDC = Ток\ покоя усилителя
    \\R_{L} = импеданс\ динамика
    \)
    <br>В статье про TDA2050, автор в данной формуле использует максимальное напряжение без нагрузки, хотя под нагрузкой оно просядет в любом случае. Это сделано для перестраховки, чтобы найти максимальные значения. Отступить от них всегда можно.
    <br>Эта формула интересно вытекает из разных других. Оставлю тут пару слайдов, которые наталкивают на размышления.
</p>
{% include gallery.html files=page.gal1 %}

<h3>4. Перевод активной мощности в полную мощность</h3>
<p>
    Тупо взят усредненный коэффициент 1.5 (0.66 при обратном преобразовании).
</p>

    </div><a class="u-url" href="/diy/%D1%83%D1%81%D0%B8%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D0%B8/2019/06/02/%D0%9A%D0%B0%D0%BB%D1%8C%D0%BA%D1%83%D0%BB%D1%8F%D1%82%D0%BE%D1%80-%D1%80%D0%B0%D1%81%D1%87%D0%B5%D1%82%D0%B0-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B0-%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D1%8F-%D1%83%D1%81%D0%B8%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8F-B-%D0%B8-AB-%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B0.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
    <data class="u-url" href="/"></data>

    <div class="wrapper">

        <h2 class="footer-heading">Блог Егора Залесского</h2>

        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list">
                    <li class="p-name"></li><li><a class="u-email" href="mailto:ez@ez.by">ez@ez.by</a></li></ul>
            </div>

            <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/zebrig"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">zebrig</span></a></li></ul>
</div>

            <div class="footer-col footer-col-3">
                <p>Блог о музыке и не только</p>
            </div>
        </div>

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/jquery.mousewheel.pack.js"></script>
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css" />
<script type="text/javascript">
    $(document).ready(function() {
        $(".fancybox").fancybox({
            padding: 0
            , openEffect: 'elastic'
            , openSpeed: 150
            , closeEffect: 'elastic'
            , closeSpeed: 150
            , closeClick: true
            , helpers: {
                // overlay: null
            }
        });
    });
</script>
<style>
    a:hover {
        opacity: 0.7;
        transition: all 0.3s;
    }

    a {
        opacity: 1;
        transition: all 0.3s;
    }
</style></body>

</html>
